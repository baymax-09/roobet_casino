import {
  type DisplayCurrency,
  isDisplayCurrency,
} from 'src/modules/user/types/DisplayCurrency'

export const SOFTSWISS_PRODUCER_SUPPORTED_CURRENCIES: Record<
  string,
  DisplayCurrency[]
> = {
  '1spin4win': ['usd', 'eur'],
  '3oaks': [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  amatic: ['cad', 'brl', 'rub', 'mxn', 'eur', 'inr', 'usd'],
  avatarux: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  bgaming: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  blueprint: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
  ],
  bsg: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  clawbuster: ['cad', 'brl', 'rub', 'eur', 'inr', 'usd', 'ars'],
  elk: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  evolution: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  gameart: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
  ],
  gamingcorps: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  gamzix: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  jaderabbit: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'idr',
    'usd',
    'ars',
  ],
  mascot: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
  ],
  netent: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  nolimit: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  playngo: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  popiplay: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  pragmatic: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'try',
  ],
  pushgaming: [
    'cad',
    'brl',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
  ],
  quickfire: [],
  quickspin: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  booongo: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  playson: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'try',
  ],
  relax: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'try',
  ],
  bigtimegaming: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  fantasma: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'try',
  ],
  gamesinc: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  pgsoft: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  reelplay: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  spinomenal: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
  ],
  spinza: [
    'cad',
    'brl',
    'rub',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  thunderkick: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  truelab: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
  vibragaming: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
  ],
  wazdan: [
    'cad',
    'brl',
    'rub',
    'dkk',
    'mxn',
    'eur',
    'cny',
    'inr',
    'php',
    'idr',
    'usd',
    'ars',
    'try',
  ],
}

export const displayCurrencyToCurrencyCode = (toConvert: string): string => {
  return toConvert.toUpperCase()
}

export const currencyCodeToDisplayCurrency = (toConvert: string): string => {
  return toConvert.toLowerCase()
}

export const getDisplayCurrencyFromRequest = ({
  currency,
}: {
  currency?: string
}): DisplayCurrency | null => {
  if (typeof currency !== 'string') {
    return null
  }
  const requestCurrency = currencyCodeToDisplayCurrency(currency)
  if (!isDisplayCurrency(requestCurrency)) {
    return null
  }
  return requestCurrency
}

export const createSoftswissId = (
  userId: string,
  currency: DisplayCurrency,
): string => {
  return `${userId}_${displayCurrencyToCurrencyCode(currency)}`
}

export const parseSoftswissId = (providerUserId: string) => {
  const match = providerUserId.match(/^([0-9A-F-]+)(_[A-Z]{3})?$/i)
  return match ? match[1] : providerUserId
}
